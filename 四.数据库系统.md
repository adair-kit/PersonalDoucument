# 四.数据库系统

[toc]

## 范式

* **超键 :** 在关系中能唯一标识元组的属性集称为关系模式的超键
* **候选键/候选码/码 :** :不含有多余属性的超键称为候选键
* **主键 :** 用户选作元组标识的一个候选键作为主键
* **主属性 :** 包含在任何一个码中的属性称为主属性
* **非主属性 :** 不包含在任何一个候选码中的属性称为非主属性

* **完全函数依赖 :** 设X,Y是关系R的两个属性集合，X’是X的真子集，存在X→Y，但对每一个X’都有X’!→Y，则称Y完全函数依赖于X。
* **部分函数依赖 :** 设X,Y是关系R的两个属性集合，存在X→Y，若X’是X的真子集，存在X’→Y，则称Y部分函数依赖于X。
* **传递函数依赖 :** 设X,Y,Z是关系R中互不相同的属性集合，存在X→Y(Y !→X),Y→Z，则称Z传递函数依赖于X。

> **键 :** 又可以叫关键字,就有超关键字 ,候选关键字 ,主关键字...也可以称为码 候选码 ,主码

| 范式 | 描述                               | emmm                                                                                                         |
| ---- | ---------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| 1NF  | 属性值都不可再分                   | 字段不能再分                                                                                                 |
| 2NF  | 消除非主属性对候选键的部分依赖     | 不能存在仅依赖候选键一部分的属性,候选键仅有一个属性就一定符合2NF                                             |
| 3NF  | 消除非主属性对候选键的传递依赖     | 非主属性必须依赖候选键,而不能依赖其他字段.非主属性只有一个一定符合3NF                                        |
| BCNF | 消除主属性对候选键的部分与传递依赖 | 1NF基础上每个属性不部分依赖于候选键也不传递依赖于候选键<br>3NF基础上消除主属性对于候选键的部分与传递函数依赖 |


## 模式分解

* 有损分解
* 无损分解

### 图表

1. 建立一张n列k行的表，每一列对应一个属性，每一行对应分解中的一个关系模式. 若关系模式包涵属性 对应填上aj 否则填上bij
2. 遍历每一个关系模式,找到具有相同符号的行.考察关系模式对应的列,若其中有aj,则全部改为aj,其他全部改为bmj,m为这些行的行号最小值
3. 若有一行称为a1,a2,...an则终止.且分解具有无损性.

### 公式(对于一分为二关系模式可用)

* U1∩U2→U1-U2 €F+ 或U1∩U2→U2 -U1€F+