# 计算机网络与安全

## OSI/RM 七层模型

|     |            |                              |                                                         |
| --- | ---------- | ---------------------------- | ------------------------------------------------------- |
| 7   | 应用层     | 实现具体的应用功能           | P0P3、FTP、HTTP、Telnet、SMTP <br>DHCP、TFTP、SNMP、DNS |
| 6   | 表示层     | 数据的格式与表达、加密、压缩 | ^                                                       |
| 5   | 会话层     | 建立、管理和终止会话         | ^                                                       |
| 4   | 传输       | 端到端的连接                 | TCP、UDP                                                |
| 3   | 网络       | 分组传输和路由选择           | 三层交换机、路由器<br>ARP、RARP、IP、ICMP、IGM          |
| 2   | 数据链路层 | 传送以帧为单位的信息         | 网桥、交换机、网卡<br> PPTP、L2TP、SLIP、PPP            |
| 1   | 物理层     | 进制传输                     | 中继器、集线器                                          |

传输层: 数据报
网络: 分组传输
数据链路层: 帧
物理层: 二进制、信号量放大

网桥: (网络类型转换,连接不同类型网络) 连接不同类型、速率、协议网络、连接两个局域网的存储转发设备，用它可以完成具有相同或相似体系结构的网络系统的连接。

## OSI/RM 七层模型

|     |            |                              |                                     |                     |                                 |
| --- | ---------- | ---------------------------- | ----------------------------------- | ------------------- | ------------------------------- |
| 7   | 应用层     | 应用层                       | POP3 、FTP<br>HTTP、 SMTP<br>TELNET | NFS                 | DHCP、TFTP<br>SNMP、DNS<br>UDP  |
| 6   | 表示层     | ^                            | ^                                   | ^                   | ^                               |
| 5   | 会话层     | ^                            | ^                                   | ^                   | ^                               |
| 4   | 传输       | 传输                         | TCP                                 | /                   |                                 |
| 3   | 网络       | 网际层                       | IP、ICMP、IGMP、ARP、RARP           |                     |                                 |
| 2   | 数据链路层 | 网络接口层                   | CSMA/CO、TokingRing                 |                     |                                 |
| 1   | 物理层     | ^                            | ^                                   |                     |                                 |

POP3: 110、邮件接收协议
SMTP: 25、邮件发送协议、简单邮件传输协议、
FTP: 20/21、文件传输协议、20为控制端口、21为数据端口
TFTP: 69、简单文件传输协议
HTTP: 80、超文本传输协议
SNMP: 161、简单网络管理协议
DHCP: 67、动态主机配置协议IP地址、动态分配
DNS: 53、域名解析
TCP: 传输控制协议 **全双工可靠**，面向连接，面向字节流，连接只能点到点，首部开销20字节
UDP: 用户数据报协议 **不可靠**，面向无连接，面向报文，支持一对一、一对多、多对一、多对多，首部开销8字节
ICMP: Internet控制报文 ping
IGMP: 组管理协议
ARP: IP->MAC
RARP: MAC->IP

## IP地址

IP: 网络号+主机号
主机号全0为网络地址
主机号全1为广播地址

A类地址: 1~126(0)
B类地址: 128~191(10)
C类地址: 192~223(110)
D类地址: (1110)
E类地址: (11110)

最大主机数计算 2n-2

子网划分

路由汇聚

## 网络规划与设计

| 需求分析               | 网络规划原则 | 网络设计与实施原则 | 层次化网络设计 |
| ---------------------- | ------------ | ------------------ | -------------- |
| 网络功能要求           | 实用性       | 可靠性             | 核心层         |
| 网络性能要求           | 开放性       | 安全性             | 汇聚层         |
| 网络运行环境要求       | 先进性       | 高效性             | 接入层         |
| 网络可扩展性和可维护性 | ^            | 可扩展性           |                |

接入层：用户接入、计费管理、MAC地址认证、收集用户信息。
汇聚层：网络访问策略控制、数据包处理、过滤、寻址。
核心层：高速数据交换，常用冗余机制。


## 计算机网络分类

分布范围: 
  有线: 局域网(LAN)、城域网(MAN)、广域网(WAM)、英特网
  无线: 
    无线局域网(WLAN): Wi-Fi 802.11
    无线城域网(WMAN): WiMax 802.16
    无线广域网(WWAN): WWAN 3G/4G
    无线个人网: Bluetooth 802.15


拓扑结构: 
  总线型: 所有主机都能接收、随机争用、总线瘫痪全瘫
  星型: 中央节点、中央结点瘫痪全瘫 、发展为树形结构、父结点瘫痪子节点全瘫
  环型: 令牌环、解决争用、1表示占用、0表示未占用

## 网络接入结束
有线: 
  公用交换电话网络(PSTN)
  数字数据网(DDN)
  综合业务数字网(ISDN)
  非对称数字用户线路(ADSL，上下行非对称)
  同轴光纤(HFC)
无线:
  IEEE 802.11: Wi-Fi
  IEEE 802.15: Bluetooth
  红外(IrDa)
  WAPI

3G
  WCDMA:
  CDMA2000
  TD-SCDMA
  WirelessMAN
4G
  WCDMA -> FDD-LTE: 频分双工 上下行分处不同频段同时进行，高通
  TD-SCDMA -> TD-LTE: 时分双工 上下行在同一频段上按照时间分配交叉进行，中国
  WirelessMAN

  802.16 WiMAX

CDMA: 码分多址
FDMA: 频分多址
TDMA: 时分多址


## 补充

集线器: 连集线器和所有接口的主机共同构成了一个冲突域和一个广播域。
交换机: 不能划分网络层的广播，即它的各个端口形成一个广播域。交换机上每个接口都是自己的一个冲突域。
路由器: 路由器的每个端口所连接的网络都独自构成一个广播域，路由器具有分割广播域的作用。


域名查询记录: 先本地DNS缓存，再HOSTS表，然后再查找本地DNS服务器，再根域名服务器，顶级域名服务器、权限域名服务器。



ipconfig/all能为DNS和WINS服务器显示它已配置且所要使用的附加信息（如IP地址等），并且显示内置于本地网卡中的物理地址。
ipconfig/renew只能在向DHCP服务器租用其IP地址的计算机上起作用。如果你输入ipconfig /renew，那么本地计算机便设法与DHCP服务器取得联系，并租用一个IP地址。
ipconfig/flushdns命令是清除DNS缓存用的。 当访问一个网站时系统将从DNS缓存中读取该域名所对应的IP地址，如果查找不到时，就会到系统中查找hosts文件，因此采用ipconfig/flushdns命令可以解决客户端域名解析故障的问题。
ipconfig/release也只能在向DHCP服务器租用其IP地址的计算机上起作用。如果你输入ipconfig /release，那么所有接口的租用IP地址便重新交付给DHCP服务器。

ICMP是网络层协议，在IP数据段传输ICMP数据单元。

主机路由的目的地址是一个完整的主机地址（子网掩码固定为255.255.255.255）。网络路由目的地址是一个网络地址（主机号部分为0）

ping由近到远先ping 127.0.0.1 检查本机TCP/IP协议栈

在SNMP协议中，团体名相当于一个组，在进行管理时，是以团体名为单位进行管理的，基作用域也在相同团体名之内。

动态路由选择算法就是自适应路由选择算法

Outlook Express有以下一些优点：
  ·可以脱机处理邮件，有效利用联机时间，降低了上网费用。
  ·可以管理多个邮件账号，在同一个窗口中使用多个邮件账号。
  ·可以使用通讯簿存储和检索电子邮件地址.
  ·在邮件中添加个人签名或信纸
  ·发送和接收安全邮件。

在HTTP协议中，GET可以用于获取一个指定页面内容；而HEAD用户获取头部信息；POST可以请求服务器接收包含在请求中的实体信息，可以用于提交表单，向新闻组、BBS、邮件群组和数据库发送消息。


帧中继优点：
  帧中继比X.25的通信开销少，传输速度更快
  帧中继与DDN相比，能以更灵活的方式支持突发式通信
  租用帧中继虚电路比租用DDN专线的费用低


交换机有多种，共同的特点都是根据某种标识把输入数据包交换到输出端口。以太网交换机根据MAC地址进行交换：帧中继交换机根据虚电路号DLCI进行交换：Internet中使用的三层交换机根据IP地址进行转发，并根据MAC地址进行交换：ATM交换机根据虚电路标识VPI和VCI进行交换。


在IPv4向IPv6过渡期间，如果要使得两个IPv6结点可以通过现有的IPv4网络进行通信，则应该使用（隧道技术）；如果要使得纯IPv6结点可以与纯IPv4结点进行通信，则需要使用（翻译技术NAT-PT）。

IPv4和IPv6的过渡期间，主要采用三种基本技术。
（1）双协议栈：主机同时运行IPv4和IPv6两套协议栈，同时支持两套协议。
（2）隧道技术：这种机制用来在IPv4网络之上连接IPv6的站点，站点可以是一台主机，也可以是多个主机。隧道技术将IPv6的分组封装到IPv4的分组中，封装后的IPv4分组将通过IPv4的路由体系传输，分组报头的“协议”域设置为41，指示这个分组的负载是一个IPv6的分组，以便在适当的地方恢复出被封装的IPv6分组并传送给目的站点。
（3）NAT-PT ：利用转换网关来在IPv4和IPv6网络之间转换IP报头的地址，同时根据协议不同对分组做相应的语义翻译，从而使纯IPv4和纯IPv6站点之间能够透明通信。


TCP使用的流量控制协议是（可变滑动窗口流量控制协议）
TCP是互联网中的（传输层）协议，使用（3）次握手协议建立连接。

网络的可用性是指（用户可利用网络时间的百分比）。

POP3协议特性：
POP3协议默认端口：110；。
POP3协议默认传输协议：TCP；
POP3协议适用的构架结构：C/S；
POP3协议的访问模式：离线访问。

wb.xyz.com.cn （wb）是主机名


通过DNS服务器实现网络负载均衡则是一种保证用户网络访问的方式。其方法有（启用循环，添加每个Web服务器的主机记录）。