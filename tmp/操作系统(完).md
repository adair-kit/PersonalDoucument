# 一 .计算机组成原理与体系结构

## 进程
* 进程是程序在一个数据集合上运行的过程 ,它是系统进行资源分配和调度的一个独立单位.它由程序块,进程控制块(PCB)和数据块三部分组成.
* 进程与程序的区别 : 进程是程序的一次执行过程,没有程序就没有进程.

### 进程的状态

![GitHub Logo](/images/进程状态转换.png)

* 五态模型多了挂起,恢复与激活
* P操作会运行->阻塞

### 同步与互斥

* 直接制约关系 , 间接制约关系 , 临界资源
* **互斥:** 一个公共资源同一时刻只能被一个进程或线程使用，多个进程或线程不能同时使用公共资源。
* **同步:** 两个或两个以上的进程或线程在运行过程中协同步调，按预定的先后次序运行。比如 A 任务的运行依赖于 B 任务产生的数据。(速度有差异,在一定情况下等待)
* 互斥 - 共享 互为反义词  同步 - 异步 互为反义词
* 只有：程序计数器，寄存器和栈，其它的资源均是共享进程的，所以也只有这些独有资源是不共享的。

### PV操作

* **临界资源 :** 进程间需要互斥方式对其共享的资源 , 如打印机
* **临界区 :** 每个进程访问临界资源的那段代码称为临界区
* **信号量 :** 一种特殊的变量 , 一般为S.
* **PV操作 :** Passeren 通过 , Verhoog释放.
* S为共享资源数量  S为负数代表当前由多少个进程在等待
* P为等待，V为通知

### 死锁问题
* **至少多少资源不会发生死锁 ：** (r-1)*n+1 r为需要系统资源 n为进程数

### 前驱图

* P是等待，V通知
* 阻塞结点：阻塞的地方、化简：释放结点
* 从资源指出为已分配，指向资源为请求资源

### 进程资源图
  * 进程控制块PCB的组织方式有: 1)线性表方式，2)索引表方式，3)链接表方式。
    * 线性表方式:不论进程的状态如何，将所有的PCB连续地存放在内存的系统区。这种方式适用于系统中进程数目不多的情况。
    * 索引表方式:该方式是线性表方式的改进，系统按照进程的状态分别建立就绪索引表、阻塞索引表等。
    * 链接表方式:系统按照进程的状态将进程的PCB组成队列，从而形成就绪队列、阻塞队列、运行队列等。

### 银行家算法
* 资源分配

### 其他
* 单缓冲区生产者、消费者问题（同步模型）

## 段、页式存储

* 页面淘汰算法：优先淘汰未拜访问过的，再优先淘汰未被修改的
* 逻辑地址 转 物理地址：根据 **页面/物理页** 大小计算出 $2^n$ 位是 **页内地址**，在也计算页号对应的页帧号/物理块号
* 页内地址计算出一个页大小、页号计算一个段有多少个页、段号计算出能有多少个段

## 页面置换算法
* 最优算法 **OPT**
* 随机算法 **RAND**
* **先进先出算法 FIFO** ：可能产生抖动
* **最近最少使用 LRU** ：不会产生抖动，局部性原理
* 时间局部性：刚访问过的内容马上又被访问
* 空间局部性：刚访问过的内容，临近空间很快被访问
* **缺页中断，求中断次数** ：指令只产生一次，内存访问都需要两次。（行存储、列存储）

## 绝对路径与相对路径
* 注意开始符号

## 索引文件
* 盘块大小/盘块位 = 可以存多少个索引文件，一级索引大小是1次方，二级索引大小是2次方，逻辑号从0
* 计算大小，具体逻辑号再哪里
* 题目
    > http://www.educity.cn/wenda/703360.html?
    http://www.educity.cn/wenda/656615.html?

## 位示图
* 位示图
  * n号物理快表示 第n+1个，
  *  n个 / 字长 = 在第?个字中
  *  题目
     > http://www.educity.cn/wenda/703412.html?
      http://www.educity.cn/wenda/695842.html?

## 输入输出控制方式
* **DMA（直接存储器存取）** 不需要CPU执行指令程序来传送数据， 在 **（主存和外设）** 之间建立了直接的数据通路。
* 由I/O设备提出的中断请求是可屏蔽中断，电源掉电是不可屏蔽中断
* 中断响应时间，是指从 **发出中断请求到开始进入中断服务程序所需的时间**
* 中断向量可提供 **（中断服务程序的入口地址）**
* 若某计算机系统的I/O接口与主存采用统一编址，则输入输出操作是通过 **（访存）** 指令来完成的。
* 为了便于实现多级中断嵌套使用 **（堆栈）** 来保护断点和现场最有效。

## 磁盘管理

* 磁盘存储
* 磁盘磁道查找时间计算：（寻道+寻转延迟+传输）* 记录数
* 磁盘磁道查找：先扇区，扇区一致看磁头
* 位示图计算

## 其他
* 设计操作系统时不需要考虑的问题是 **（语言编译器的设计实现）
* 嵌入式系统初始化过程主要有3个环节，按照自底向上、从硬件到软件的次序依次为 **（片级初始化→板级初始化→系统级初始化）** 。系统级初始化主要任务是 **（以软件初始化为主，主要进行操作系统的初始化）**
* CPU是在（一个总线周期）结束时响应DMA请求的。
* 实时操作系统有硬实时和软实时之分，硬实时要求在 **规定的时间内** 必须完成操作